let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):console.error("Invalid Pokemon data")}function n(){return e}function a(t){return e.filter(e=>e.name.toLowerCase().startsWith(t.toLowerCase()))}function i(e,t,n){let a=$(".modal-body");$(".modal-title").text(e),a.html(`<p>${t}</p><img src="${n}" class="modal-image img-fluid" alt="${e} image">`),$("#exampleModal").modal("show")}function o(e){i(e.name,`Height: ${e.height} 
    Weight: ${e.weight}`,e.imageUrl)}function l(e){let t=document.querySelector("#list"),n=document.createElement("div");n.classList.add("col-lg-3","col-md-4","col-sm-6","col-12","mb-4");let a=document.createElement("div");a.classList.add("card","mb-3","h-100");let i=document.createElement("div");i.classList.add("card-body");let l=document.createElement("h1");l.classList.add("card-title","text-center"),l.innerText=e.name;let r=document.createElement("p");r.classList.add("card-text","text-center"),r.innerText=`Type: ${e.types.map(e=>e.type.name).join(", ")}`;let c=document.createElement("img");c.classList.add("card-img-top"),c.src=e.imageUrl,c.alt=`Image of ${e.name}`;let d=document.createElement("button");d.classList.add("btn","btn-secondary"),d.innerText="More Details",d.setAttribute("data-toggle","modal"),d.setAttribute("data-target","#exampleModal"),d.addEventListener("click",function(){o(e)}),i.appendChild(l),i.appendChild(r),i.appendChild(d),a.appendChild(c),a.appendChild(i),n.appendChild(a),t.appendChild(n)}function r(){let e=document.createElement("p");e.innerText="Loading...",e.id="loading-message",document.body.appendChild(e)}function c(){let e=document.getElementById("loading-message");e&&e.remove()}function d(){return r(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})}),c()}).catch(function(e){console.error(e),c()})}function s(e){return r(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types,c()}).catch(function(e){console.error(e),c()})}function m(){document.querySelector(".form-control").addEventListener("input",function(){let e=a(this.value.toLowerCase());document.querySelector(".row").innerHTML="",e.forEach(function(e){l(e)})})}return{add:t,getAll:n,findByName:a,addListItem:l,loadList:d,loadDetails:s,showDetails:o,setupSearchFilter:m,launchProcesses:function t(){d().then(function(){Promise.all(e.map(e=>s(e))).then(function(){e.forEach(e=>l(e)),m()})})},showModal:i}}();pokemonRepository.launchProcesses();